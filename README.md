# load_linux
Дз по занятию работа с загрузчиком

Для проверки первой части задания (Попасть в систему без пароля несколькими способами) необходимо запустить load/Vagrantfile, на этой вирутальной машине проделать следующие операции:

1. Способ init=/bin/sh
запустить виртуальную машину и при выборе ядра при загрузкe нажать e, откроется окно в котром необходимо
в конце строки начинающейся с linux16 добавить init=/bin/sh и нажать сtrl-x, так мы попадем в систему, но нужно
воспользоваться командой:
mount -o remount,rw /
чтобы рутовая файловая система была перепримонтирована и работала в режиме записи и чтения
Далее проверяем что перемонирование выполнено:
mount | grep root

2. Способ rd.break
запустить виртуальную машину и при выборе ядра при загрузкe нажать e, откроется окно в котром необходимо
в конце строки начинающейся с linux16 добавить rd.break нажать сtrl-x, так мы поападем в ситему в режиме
emergency mode, наша корневая система опять смонтирована в режиме только чтения, проделываем следующие операции
mount -o remount,rw /sysroot --монтируем с правами на запись
chroot /sysroot --меняем путь корневой директории
passwd root --меняем пароль
touch /.autorelabel --обновляем параметры SELinux
Далее делаем reboot и вводим для root новоиспеченный пароль

3. Способ rw init=/sysroot/bin/sh
запустить виртуальную машину и при выборе ядра при загрузкe нажать e, откроется окно в котром необходимо
в конце строки начинающейся с linux16 заменяем ro на rw init=/sysroot/bin/sh и нажимаем сtrl-x и все мы 
сразу оказываемся в файловой системе,которая доступна на чтение и запись

Для проверки второй части дз необходимо запустить lvm/Vagrantfile, который и развернет виртуальную машину с lvm
На ней установить утилилту script 
yum install util-linux
И запустить файлы script и timeline для прогонки сценария
scriptreplay ~timefile ~script
После этого сделать
reboot
И после того как запустилась система проверяем командной
vgs
Ответ должен быть:
[root@lvm ~]# vgs
  VG       #PV #LV #SN Attr   VSize   VFree
  OtusRoot   1   2   0 wz--n- <38.97g    0


Для проверки третий части снова запускаем load/Vagrantfile на ней тоже устанваливаем утилиту script
Запускаем script2 и timefile2
scriptreplay ~timefile2 ~script2
После прогонки этих сценариев перезагружеамся при выборе ядра при загрузкe нажать e откроется окно в котром необходимо
в конце строки начинающейся с linux16 убрать опции rghb и quiet  нажимаем сtrl-x и наблюдаем пигвина
